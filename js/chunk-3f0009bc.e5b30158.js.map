{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/components/UserProfileCard.vue","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue?f338","webpack:///./src/components/UserEditModal.vue","webpack:///src/components/UserEditModal.vue","webpack:///./src/components/UserEditModal.vue?28df","webpack:///./src/components/UserEditModal.vue?47e3","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue?1f52","webpack:///./src/assets/pictures/noti.png","webpack:///./src/components/UserEditModal.vue?afd2","webpack:///./src/assets/pictures/prev.png","webpack:///./src/views/User.vue?b9e3","webpack:///./src/assets/pictures/mail.png","webpack:///./src/components/UserProfileCard.vue?c412"],"names":["render","_vm","this","_c","_self","staticClass","attrs","user","on","$event","toggleEditModal","_l","tabs","tab","key","id","path","_v","_s","title","handleChangeCount","showEditModal","afterEditSubmit","staticRenderFns","require","name","tweetCounts","staticStyle","_f","banner","avatar","currentUser","$route","params","stopPropagation","preventDefault","_e","class","isFollowed","changeFollowingCount","toggleFollowUser","account","introduction","followingCounts","followerCounts","mixins","data","showProfileEditModal","isEditing","isLoading","props","Type","required","methods","Toast","icon","console","viewingUser","bus","computed","component","show","handleEditModalSubmit","apply","arguments","$emit","isProcessing","isCancelBtnShown","handleCancel","tempUser","handleBannerChange","handleAvatarChange","directives","rawName","value","expression","error","isNameInvalid","domProps","target","composing","$set","nameErrorMessage","isIntroTooLong","created","userId","formData","files","components","SideBar","UserProfileCard","PopularUsers","UserEditModal","beforeRouteUpdate","next","tweets","email","likeCount","module","exports"],"mappings":"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","file":"js/chunk-3f0009bc.e5b30158.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('SideBar')],1),_c('div',{staticClass:\"col-7 scrollable-part\"},[_c('UserProfileCard',{attrs:{\"user\":_vm.user},on:{\"show-edit-modal\":function($event){return _vm.toggleEditModal(true)}}}),_c('div',[_c('ul',{staticClass:\"nav-tab d-flex w-100\"},_vm._l((_vm.tabs),function(tab){return _c('li',{key:tab.id,staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":tab.path}},[_vm._v(\" \"+_vm._s(tab.title)+\" \")])],1)}),0)]),_c('router-view')],1),_c('div',{staticClass:\"col\"},[_c('PopularUsers',{on:{\"change-count\":_vm.handleChangeCount}})],1)]),_c('UserEditModal',{attrs:{\"show\":_vm.showEditModal},on:{\"close\":function($event){return _vm.toggleEditModal(false)},\"after-edit-submit\":_vm.afterEditSubmit}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-group\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header mt-3\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"me-2\"},[_c('router-link',{attrs:{\"to\":\"/home\"}},[_c('img',{staticClass:\"prev-icon\",attrs:{\"src\":require('../assets/pictures/prev.png'),\"alt\":\"...\"}})])],1),_c('div',[_c('h5',{staticClass:\"user-name m-0\"},[_vm._v(\" \"+_vm._s(_vm.user.name)+\" \")]),_c('span',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.user.tweetCounts)+\" 推文\")])])])]),_c('div',{staticClass:\"profile-wrapper position-relative\"},[_c('div',{staticClass:\"profile-cover\"},[_c('img',{staticClass:\"banner-img w-100\",staticStyle:{\"height\":\"200px\"},attrs:{\"src\":_vm._f(\"emptyBanner\")(_vm.user.banner),\"alt\":\"user-banner\"}})]),_c('div',{staticClass:\"person-img\"},[_c('img',{staticClass:\"avatar-img rounded-circle position-absolute\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.avatar)}})]),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('div',{staticClass:\"d-flex justify-content-end\"},[(_vm.currentUser.id === +this.$route.params.id)?_c('button',{staticClass:\"btn btn-edit btn-border btn-50\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showEditModal(true)}}},[_vm._v(\" 編輯個人資料 \")]):_vm._e(),(_vm.currentUser.id !== +this.$route.params.id)?_c('div',{staticClass:\"icon-section\"},[_c('div',{staticClass:\"icon-round\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require('../assets/pictures/mail.png')}})]),_c('div',{staticClass:\"icon-round\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require('../assets/pictures/noti.png')}})]),_c('button',{staticClass:\"btn-border btn-50 btn-clip btn-edit\",class:_vm.user.isFollowed,on:{\"click\":[function($event){return _vm.changeFollowingCount(_vm.user.isFollowed)},function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleFollowUser(_vm.user.isFollowed, _vm.user.id)}]}},[_vm._v(_vm._s(_vm.user.isFollowed ? \"正在跟隨\" : \"跟隨\"))])]):_vm._e()])]),_c('div',{staticClass:\"card-body text-start\"},[_c('h5',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('span',{staticClass:\"card-text\"},[_vm._v(\"@ \"+_vm._s(_vm.user.account))]),_c('p',{staticClass:\"introduction\"},[_vm._v(_vm._s(_vm.user.introduction))]),_c('span',{staticClass:\"card-text me-4\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-followings', params: { id: _vm.user.id } }}},[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.user.followingCounts)+\"個\")]),_vm._v(\"跟隨中 \")])],1),_c('span',{staticClass:\"card-text\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-followers', params: { id: _vm.user.id } }}},[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.user.followerCounts)+\"位\")]),_vm._v(\"追隨者 \")])],1)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card-group\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header mt-3\">\r\n        <div class=\"d-flex align-items-center\">\r\n          <div class=\"me-2\">\r\n            <router-link to=\"/home\">\r\n            <img\r\n              :src=\"require('../assets/pictures/prev.png')\"\r\n              class=\"prev-icon\"\r\n              alt=\"...\"\r\n            />\r\n            </router-link>\r\n          </div>\r\n          <div>\r\n            <h5 class=\"user-name m-0\">\r\n              {{ user.name }}\r\n            </h5>\r\n            <span class=\"card-text\">{{ user.tweetCounts }} 推文</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- profile -->\r\n      <div class=\"profile-wrapper position-relative\">\r\n        <div class=\"profile-cover\">\r\n          <img\r\n            class=\"banner-img w-100\"\r\n            :src=\"user.banner | emptyBanner\"\r\n            style=\"height: 200px\"\r\n            alt=\"user-banner\"\r\n          />\r\n        </div>\r\n\r\n        <!-- person-img -->\r\n        <div class=\"person-img\">\r\n          <img\r\n            class=\"avatar-img rounded-circle position-absolute\"\r\n            :src=\"user.avatar | emptyImage\"\r\n          />\r\n        </div>\r\n        <div class=\"d-flex justify-content-end\">\r\n          <!-- If its current user: Edit button -->\r\n          <div class=\"d-flex justify-content-end\">\r\n            <button\r\n              v-if=\"currentUser.id === +this.$route.params.id\"\r\n              type=\"button\"\r\n              @click.stop.prevent=\"showEditModal(true)\"\r\n              class=\"btn btn-edit btn-border btn-50\"\r\n            >\r\n              編輯個人資料\r\n            </button>\r\n            <!-- If its other users: noti and mail icons, follow button -->\r\n            <div\r\n              class=\"icon-section\"\r\n              v-if=\"currentUser.id !== +this.$route.params.id\"\r\n            >\r\n              <div class=\"icon-round\">\r\n                <img\r\n                  class=\"icon\"\r\n                  :src=\"require('../assets/pictures/mail.png')\"\r\n                />\r\n              </div>\r\n              <div class=\"icon-round\">\r\n                <img\r\n                  class=\"icon\"\r\n                  :src=\"require('../assets/pictures/noti.png')\"\r\n                />\r\n              </div>\r\n              <button class=\"btn-border btn-50 btn-clip btn-edit\"\r\n              :class=\"user.isFollowed\"\r\n              @click=\"changeFollowingCount(user.isFollowed)\"\r\n              @click.prevent.stop=\"toggleFollowUser(user.isFollowed, user.id)\"\r\n              >{{ user.isFollowed ? \"正在跟隨\" : \"跟隨\" }}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card-body text-start\">\r\n          <h5 class=\"user-name\">{{ user.name }}</h5>\r\n          <span class=\"card-text\">@ {{ user.account }}</span>\r\n          <p class=\"introduction\">{{ user.introduction }}</p>\r\n          <span class=\"card-text me-4\">\r\n            <router-link :to=\"{ name: 'user-followings', params: { id: user.id } }\">\r\n            <span class=\"num\">{{ user.followingCounts }}個</span>跟隨中\r\n            </router-link>\r\n          </span>\r\n          <span class=\"card-text\">\r\n            <router-link :to=\"{ name: 'user-followers', params: { id: user.id } }\">\r\n            <span class=\"num\">{{ user.followerCounts }}位</span>追隨者\r\n            </router-link>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport { mapState } from \"vuex\";\r\nimport followsAPI from \"../apis/followship\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport { bus } from '../main';\r\n\r\nexport default {\r\n  name: \"UserProfileCard\",\r\n  mixins: [emptyImageFilter],\r\n  data() {\r\n    return {\r\n      showProfileEditModal: false,\r\n      isEditing: false,\r\n      isLoading: true,\r\n    };\r\n  },\r\n  props: {\r\n    user: {\r\n      Type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    showEditModal(bool) {\r\n      // 通知 User.vue 顯示 edit modal\r\n      this.$emit(\"show-edit-modal\", bool);\r\n    },\r\n    async toggleFollowUser(isUserFollowed, userId) {\r\n      try {\r\n        // 已經跟隨該 user\r\n        if (isUserFollowed) {\r\n          // DETELE /api/followships/:followingId 取消跟隨\r\n          const response = await followsAPI.unFollowUser(userId);\r\n\r\n          if (response.data.status === \"success\") {\r\n            Toast.fire({\r\n              icon: \"success\",\r\n              title: \"成功取消跟隨\",\r\n            });\r\n\r\n          // stop\r\n          // //  向 User 傳遞值有變動\r\n          // this.$emit('after-click-followBtn', \"unFollow\") \r\n          } else if (response.data.status === \"error\") {\r\n            throw new Error(response.data.message);\r\n          }\r\n        } else {\r\n          // POST /api/followships 進行跟隨\r\n          const response = await followsAPI.followUser(userId);\r\n\r\n          if (response.data.status === \"success\") {\r\n            Toast.fire({\r\n              icon: \"success\",\r\n              title: \"成功跟隨\",\r\n            });\r\n\r\n          } else if (response.data.status === \"error\") {\r\n            throw new Error(response.data.message);\r\n          }\r\n        }\r\n        // stop\r\n        // //  向 User 傳遞值有變動\r\n        //   this.$emit('after-click-followBtn', \"addFollow\") \r\n\r\n      } catch (error) {\r\n        console.error(error.response.data.message);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: error.response.data.message,\r\n        });\r\n      }\r\n    },\r\n    viewingUser() {\r\n      bus.$emit(\"viewing-user\", this.user);\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  }, \r\n};\r\n</script>\r\n\r\n<style scope>\r\na,\r\na:hover {\r\n  color: var(--secondary-color);\r\n}\r\n.card-group {\r\n  border-left: 1px solid var(--border-line-color);\r\n  border-right: 1px solid var(--border-line-color);\r\n}\r\n.card {\r\n  border: initial;\r\n}\r\n.card-header {\r\n  background-color: initial;\r\n}\r\n.card-text {\r\n  color: var(--dark-100);\r\n}\r\n.prev-icon {\r\n  width: 17px;\r\n}\r\n.user-name {\r\n  font-weight: 700;\r\n  line-height: 26px;\r\n  color: var(--dark-100);\r\n}\r\n.introduction {\r\n  font-size: 0.875rem;\r\n  line-height: 1.375rem;\r\n  text-align: left;\r\n  color: var(--dark-100);\r\n}\r\n/* text-setting */\r\nspan.card-text {\r\n  color: var(--secondary-color);\r\n}\r\nspan.num {\r\n  color: initial;\r\n}\r\n.btn-edit {\r\n  margin-top: 1rem;\r\n  margin-right: 1rem;\r\n  color: var(--main-color);\r\n}\r\nbutton[active] {\r\n  background-color: var(--main-color);\r\n  color: #ffffff;\r\n}\r\n.avatar-img {\r\n  top: 50%;\r\n  left: 10%;\r\n  transform: translate(-30%, -50%);\r\n  width: 140px;\r\n  height: 140px;\r\n  border: 4px #ffffff solid;\r\n}\r\n.icon-round {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 1px solid var(--main-color);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 1rem;\r\n  margin-right: 1rem;\r\n}\r\n.icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  filter: brightness(0) saturate(100%) invert(38%) sepia(52%) saturate(2219%)\r\n    hue-rotate(2deg) brightness(107%) contrast(105%);\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=c828c808&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserProfileCard.vue?vue&type=style&index=0&id=c828c808&prod&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.show)?_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-container\"},[_c('form',{staticClass:\"mx-auto w-100\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleEditModalSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"modal-header\"},[_c('div',{staticClass:\"modal-title-wrapper d-flex\"},[_c('img',{staticClass:\"close-btn\",attrs:{\"src\":require(\"./../assets/pictures/close.png\"),\"alt\":\"close-btn\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('close')}}}),_c('div',{staticClass:\"modal-title\"},[_vm._v(\"編輯個人資料\")])]),_c('button',{staticClass:\"save-btn btn-bg btn-border\",attrs:{\"disabled\":_vm.isProcessing}},[_vm._v(\" 儲存 \")])]),_c('div',{staticClass:\"profile-wrapper position-relative\"},[_c('label',{staticClass:\"banner-icon change-photo\",attrs:{\"for\":\"banner-image\"}}),(_vm.isCancelBtnShown)?_c('label',{staticClass:\"banner-icon cancel-change\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleCancel.apply(null, arguments)}}}):_vm._e(),(_vm.tempUser.banner)?_c('img',{staticClass:\"banner-img w-100 banner-preview\",attrs:{\"src\":_vm.tempUser.banner}}):_vm._e(),(!_vm.tempUser.banner)?_c('img',{staticClass:\"banner-img w-100\",attrs:{\"src\":_vm._f(\"emptyBanner\")(_vm.currentUser.banner),\"alt\":\"banner\"}}):_vm._e(),_c('input',{staticClass:\"upload-banner\",attrs:{\"name\":\"banner\",\"type\":\"file\",\"accept\":\"image/jpeg,image/png,image/webp\",\"id\":\"banner-image\"},on:{\"change\":_vm.handleBannerChange}}),_c('div',{staticClass:\"bg-mask banner-mask\"}),_c('div',{staticClass:\"person-img\"},[_c('label',{staticClass:\"avatar-icon avatar-change-photo\",attrs:{\"for\":\"avatar-image\"}}),_c('img',{staticClass:\"avatar-img rounded-circle position-absolute\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":\"person-image\"}}),(_vm.tempUser.avatar)?_c('img',{staticClass:\"avatar-img rounded-circle position-absolute avatar-preview\",attrs:{\"src\":_vm.tempUser.avatar,\"width\":\"200\",\"height\":\"200\"}}):_vm._e(),_c('input',{staticClass:\"upload-avatar\",attrs:{\"name\":\"avatar\",\"type\":\"file\",\"accept\":\"image/jpeg,image/png,image/webp\",\"id\":\"avatar-image\"},on:{\"change\":_vm.handleAvatarChange}}),_c('div',{staticClass:\"avatar-mask\"})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-input d-flex flex-column\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempUser.name),expression:\"tempUser.name\"}],class:{ error: _vm.isNameInvalid },attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"name\",\"required\":\"\"},domProps:{\"value\":(_vm.tempUser.name)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.tempUser, \"name\", $event.target.value)},function($event){_vm.isNameInvalid = false}]}}),(_vm.isNameInvalid)?_c('span',{staticClass:\"error-message mx-3\"},[_vm._v(_vm._s(_vm.nameErrorMessage))]):_vm._e()]),_c('div',{staticClass:\"form-input form-introduction d-flex\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"introduction\"}},[_vm._v(\"自我介紹\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempUser.introduction),expression:\"tempUser.introduction\"}],class:{ error: _vm.isIntroTooLong },attrs:{\"type\":\"text\",\"name\":\"introduction\",\"id\":\"introduction\",\"required\":\"\"},domProps:{\"value\":(_vm.tempUser.introduction)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.tempUser, \"introduction\", $event.target.value)},function($event){_vm.isIntroTooLong = false}]}}),(_vm.isIntroTooLong)?_c('span',{staticClass:\"error-message mx-3\"},[_vm._v(\"自我介紹不可超過 160 字！\")]):_vm._e()])])])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"show\" class=\"modal-mask\">\r\n      <div class=\"modal-container\">\r\n        <form\r\n          class=\"mx-auto w-100\"\r\n          @submit.prevent.stop=\"handleEditModalSubmit\"\r\n        >\r\n          <!-- modal header: close button -->\r\n          <div class=\"modal-header\">\r\n            <div class=\"modal-title-wrapper d-flex\">\r\n              <img\r\n                src=\"./../assets/pictures/close.png\"\r\n                alt=\"close-btn\"\r\n                class=\"close-btn\"\r\n                @click.stop.prevent=\"$emit('close')\"\r\n              />\r\n              <div class=\"modal-title\">編輯個人資料</div>\r\n            </div>\r\n            <button class=\"save-btn btn-bg btn-border\" :disabled=\"isProcessing\">\r\n              儲存\r\n            </button>\r\n          </div>\r\n          <div class=\"profile-wrapper position-relative\">\r\n            <!-- icon -->\r\n            <label for=\"banner-image\" class=\"banner-icon change-photo\"></label>\r\n\r\n            <label\r\n              class=\"banner-icon cancel-change\"\r\n              v-if=\"isCancelBtnShown\"\r\n              @click.prevent.stop=\"handleCancel\"\r\n            ></label>\r\n            <!-- preview banner -->\r\n            <img\r\n              v-if=\"tempUser.banner\"\r\n              :src=\"tempUser.banner\"\r\n              class=\"banner-img w-100 banner-preview\"\r\n            />\r\n            <img\r\n              v-if=\"!tempUser.banner\"\r\n              class=\"banner-img w-100\"\r\n              :src=\"currentUser.banner | emptyBanner\"\r\n              alt=\"banner\"\r\n            />\r\n\r\n            <input\r\n              name=\"banner\"\r\n              type=\"file\"\r\n              accept=\"image/jpeg,image/png,image/webp\"\r\n              class=\"upload-banner\"\r\n              id=\"banner-image\"\r\n              @change=\"handleBannerChange\"\r\n            />\r\n            <div class=\"bg-mask banner-mask\"></div>\r\n\r\n            <div class=\"person-img\">\r\n              <label\r\n                for=\"avatar-image\"\r\n                class=\"avatar-icon avatar-change-photo\"\r\n              ></label>\r\n              <img\r\n                class=\"avatar-img rounded-circle position-absolute\"\r\n                :src=\"currentUser.avatar | emptyImage\"\r\n                alt=\"person-image\"\r\n              />\r\n              <!-- preview avatar -->\r\n              <img\r\n                v-if=\"tempUser.avatar\"\r\n                :src=\"tempUser.avatar\"\r\n                class=\"avatar-img rounded-circle position-absolute avatar-preview\"\r\n                width=\"200\"\r\n                height=\"200\"\r\n              />\r\n              <input\r\n                name=\"avatar\"\r\n                type=\"file\"\r\n                accept=\"image/jpeg,image/png,image/webp\"\r\n                class=\"upload-avatar\"\r\n                id=\"avatar-image\"\r\n                @change=\"handleAvatarChange\"\r\n              />\r\n\r\n              <div class=\"avatar-mask\"></div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"form-input d-flex flex-column\">\r\n              <label for=\"name\" class=\"form-input-text\">名稱</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                :class=\"{ error: isNameInvalid }\"\r\n                v-model=\"tempUser.name\"\r\n                @input=\"isNameInvalid = false\"\r\n                required\r\n              />\r\n              <span v-if=\"isNameInvalid\" class=\"error-message mx-3\">{{\r\n                nameErrorMessage\r\n              }}</span>\r\n            </div>\r\n            <div class=\"form-input form-introduction d-flex\">\r\n              <label for=\"introduction\" class=\"form-input-text\">自我介紹</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"introduction\"\r\n                id=\"introduction\"\r\n                :class=\"{ error: isIntroTooLong }\"\r\n                v-model=\"tempUser.introduction\"\r\n                @input=\"isIntroTooLong = false\"\r\n                required\r\n              />\r\n              <span v-if=\"isIntroTooLong\" class=\"error-message mx-3\"\r\n                >自我介紹不可超過 160 字！</span\r\n              >\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport { mapState } from \"vuex\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport usersAPI from \"../apis/user\";\r\n\r\nexport default {\r\n  name: \"UserEditModal\",\r\n  mixins: [emptyImageFilter],\r\n  data() {\r\n    return {\r\n      tempUser: {\r\n        id: \"\",\r\n        name: \"\",\r\n        introduction: \"\",\r\n        avatar: \"\",\r\n        banner: \"\",\r\n      },\r\n      isNameInvalid: false,\r\n      nameErrorMessage: \"\",\r\n      isIntroTooLong: false,\r\n      isProcessing: false,\r\n      isCancelBtnShown: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.tempUser.id = this.currentUser.id;\r\n    this.tempUser.name = this.currentUser.name;\r\n    this.tempUser.introduction = this.currentUser.introduction;\r\n    this.tempUser.avatar = this.currentUser.avatar;\r\n    this.tempUser.banner = this.currentUser.banner;\r\n  },\r\n  props: {\r\n    // 從 User.vue 傳來\r\n    show: Boolean,\r\n  },\r\n  computed: {\r\n    // 從 Vuex 取得 currentUser 的資料\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  methods: {\r\n    async handleEditModalSubmit(event) {\r\n      try {\r\n        // 若名稱沒填，防止請求送出\r\n        if (!this.tempUser.name) {\r\n          this.isNameInvalid = true;\r\n          this.nameErrorMessage = \"名稱不可空白\";\r\n          return;\r\n        }\r\n\r\n        // 名稱超過 50 字，防止請求送出\r\n        if (this.tempUser.name.length > 50) {\r\n          this.isNameInvalid = true;\r\n          this.nameErrorMessage = \"名稱不可超過 50 字！\";\r\n          return;\r\n        }\r\n\r\n        // 自我介紹超過 160 字，防止請求送出\r\n        if (this.tempUser.introduction.length > 160) {\r\n          this.isIntroTooLong = true;\r\n          return;\r\n        }\r\n        // 暫時關閉按鈕\r\n        this.isProcessing = true;\r\n\r\n        const form = event.target;\r\n        const formData = new FormData(form);\r\n\r\n        const response = await usersAPI.editSelfData({ userId: this.tempUser.id, formData });\r\n\r\n        if (response.data.status === \"error\") {\r\n          throw new Error(response.data.message);\r\n        }\r\n        // notify User.vue to update user data\r\n        this.$emit(\"after-edit-submit\");\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"更改個人資料成功！\",\r\n        });\r\n        // close the modal after submitted\r\n        this.$emit(\"close\");\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        console.error(error.response.data.message);\r\n        switch (error.response.data.message) {\r\n          case \"permission denied\":\r\n            Toast.fire({\r\n              icon: \"error\",\r\n              title: \"您沒有權限修改\",\r\n            });\r\n            break;\r\n          case \"Error: Target user not exist\":\r\n            Toast.fire({\r\n              icon: \"error\",\r\n              title: \"使用者不存在\",\r\n            });\r\n            break;\r\n          default:\r\n            Toast.fire({\r\n              icon: \"error\",\r\n              title: \"修改個人資料失敗，請再試一次\",\r\n            });\r\n            break;\r\n        }\r\n      }\r\n    },\r\n    handleAvatarChange(event) {\r\n      const { files } = event.target;\r\n      // 如果有上傳檔案，產生預覽圖\r\n      if (files.length !== 0) {\r\n        const imageURL = window.URL.createObjectURL(files[0]);\r\n        this.tempUser.avatar = imageURL;\r\n      }\r\n    },\r\n    handleBannerChange(event) {\r\n      const { files } = event.target;\r\n      // 如果有上傳檔案，產生預覽圖\r\n      if (files.length !== 0) {\r\n        // 顯示取消按鈕\r\n        this.isCancelBtnShown = true;\r\n        const imageURL = window.URL.createObjectURL(files[0]);\r\n        this.tempUser.banner = imageURL;\r\n        console.log(this.tempUser.banner);\r\n      }\r\n    },\r\n    handleCancel() {\r\n      // 清空 banner\r\n      this.tempUser.banner = \"\";\r\n      // 隱藏取消按鈕\r\n      this.isCancelBtnShown = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-container {\r\n  min-width: 634px;\r\n}\r\n\r\n.modal-body {\r\n  width: 100%;\r\n  padding: 5rem 1rem 1rem 1rem;\r\n  max-height: max-content;\r\n  border-bottom-left-radius: 0.875rem;\r\n  border-bottom-right-radius: 0.875rem;\r\n  background-color: var(--dark-10);\r\n}\r\n\r\n.modal-title {\r\n  margin-left: 2.25rem;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  line-height: 26px;\r\n  text-align: left;\r\n}\r\n\r\n.form-input-text {\r\n  color: var(--dark-80);\r\n}\r\n\r\n.form-introduction {\r\n  height: 12.25vh;\r\n  border-radius: 2px;\r\n}\r\n\r\n.form-introduction input {\r\n  line-height: 12.25vh;\r\n}\r\n\r\n.error-message {\r\n  color: var(--danger-color);\r\n}\r\n\r\n.error {\r\n  border-bottom: 2px solid var(--danger-color);\r\n}\r\n\r\n/* same as UserProfileCard */\r\n.avatar-img {\r\n  position: absolute;\r\n  top: 124px;\r\n  left: 10%;\r\n  z-index: 66;\r\n  transform: translate(-10%);\r\n  width: 140px;\r\n  height: 140px;\r\n  border: 4px #ffffff solid;\r\n}\r\n\r\n.banner-img {\r\n  height: 200px;\r\n}\r\n\r\n/* banner、avatar icon(change-photo、cancel) */\r\n.banner-icon,\r\n.avatar-icon {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: block;\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  z-index: 999;\r\n}\r\n\r\n.banner-icon.change-photo {\r\n  background-image: url(\"./../assets/pictures/change-photo.png\");\r\n}\r\n\r\n.upload-banner,\r\n.upload-avatar {\r\n  position: absolute;\r\n  z-index: 999;\r\n  display: none;\r\n}\r\n\r\n.upload-banner {\r\n  left: 10%;\r\n  top: 90%;\r\n}\r\n\r\n.upload-avatar {\r\n  left: 45%;\r\n  top: 45%;\r\n}\r\n\r\n.banner-icon.cancel-change {\r\n  top: 50%;\r\n  left: 60%;\r\n  transform: translate(-50%, -50%);\r\n  background-image: url(\"./../assets/pictures/cancel-change.png\");\r\n}\r\n\r\n.avatar-change-photo {\r\n  top: 183px;\r\n  left: 18%;\r\n  transform: translate(-18%);\r\n  background-image: url(\"./../assets/pictures/change-photo.png\");\r\n}\r\n\r\n/* banner mask 、avatar mask */\r\n.banner-mask {\r\n  background-color: rgba(23, 23, 37, 0.5);\r\n  opacity: 75%;\r\n}\r\n\r\n.bg-mask {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.avatar-mask {\r\n  position: absolute;\r\n  left: 10%;\r\n  transform: translate(-10%);\r\n  top: 124px;\r\n  width: 140px;\r\n  height: 140px;\r\n  background-color: rgba(23, 23, 37, 0.5);\r\n  border-radius: 50%;\r\n  z-index: 66;\r\n}\r\n\r\n.avatar-preview,\r\n.banner-preview {\r\n  z-index: 66;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditModal.vue?vue&type=template&id=5feec354&scoped=true&\"\nimport script from \"./UserEditModal.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEditModal.vue?vue&type=style&index=0&id=5feec354&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5feec354\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <SideBar />\r\n      </div>\r\n      <div class=\"col-7 scrollable-part\">\r\n        <UserProfileCard \r\n        :user=\"user\"\r\n        @show-edit-modal=\"toggleEditModal(true)\" />\r\n        <div>\r\n          <ul class=\"nav-tab d-flex w-100\">\r\n            <li v-for=\"tab in tabs\" :key=\"tab.id\" class=\"nav-item\">\r\n              <router-link :to=\"tab.path\" class=\"nav-link\">\r\n                {{ tab.title }}\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <router-view />\r\n      </div>\r\n      <div class=\"col\">\r\n        <PopularUsers @change-count=\"handleChangeCount\"/>\r\n      </div>\r\n    </div>\r\n    <UserEditModal :show=\"showEditModal\" @close=\"toggleEditModal(false)\"\r\n    @after-edit-submit=\"afterEditSubmit\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n</style>\r\n\r\n<script>\r\nimport SideBar from \"../components/Sidebar\";\r\nimport UserProfileCard from \"./../components/UserProfileCard\";\r\nimport PopularUsers from \"../components/PopularUsers\";\r\nimport UserEditModal from \"../components/UserEditModal\";\r\nimport userAPI from \"./../apis/user\";\r\nimport { Toast } from \"../utils/helpers\";\r\n\r\nexport default {\r\n  name: \"User\",\r\n  components: {\r\n    SideBar,\r\n    UserProfileCard,\r\n    PopularUsers,\r\n    UserEditModal,\r\n  },\r\n  created() {\r\n    // 取得動態路由位置\r\n    const { id: userId } = this.$route.params;\r\n    this.fetchUserProfile(userId);\r\n  },\r\n  // 追蹤路由變化\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { id } = to.params;\r\n    this.fetchUserProfile(id);\r\n    next();\r\n  },\r\n  data() {\r\n    return {\r\n      tabs: [\r\n        {\r\n          title: \"推文\",\r\n          path: \"tweets\",\r\n        },\r\n        {\r\n          title: \"回覆\",\r\n          path: \"replies\",\r\n        },\r\n        {\r\n          title: \"喜歡的內容\",\r\n          path: \"likes\",\r\n        },\r\n      ],\r\n      currentUser: {},\r\n      tweets: [],\r\n      showEditModal: false,\r\n\r\n      user: {\r\n        id: -1,\r\n        account: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        introduction: \"\",\r\n        avatar: \"\",\r\n        banner: \"\",\r\n        tweetCounts: 0,\r\n        followingCounts: 0,\r\n        followerCounts: 0,\r\n        likeCount: 0,\r\n        isFollowed: false,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    toggleEditModal(bool) {\r\n      this.showEditModal = bool;\r\n    },\r\n \r\n    handleChangeCount(value) {\r\n      \r\n      if (value === false) {\r\n        this.user.followingCounts = this.user.followingCounts + 1\r\n      }\r\n      if (value === true) {\r\n        this.user.followingCounts = this.user.followingCounts - 1\r\n      }\r\n    },\r\n  \r\n    async fetchUserProfile(userId) {\r\n      try {\r\n        const response = await userAPI.getUser({ userId });\r\n\r\n        if (response.status !== 200) {\r\n          throw new Error(response.data.message);\r\n        }\r\n\r\n        this.user = response.data;\r\n\r\n        this.user = {\r\n          ...this.user,\r\n          introduction: this.user.introduction ? this.user.introduction : \"\",\r\n        };\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    afterEditSubmit() {\r\n      this.fetchUserProfile(this.user.id);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 90%;\r\n}\r\n.container > div {\r\n  flex-wrap: nowrap;\r\n}\r\n.nav-link.active {\r\n  box-shadow: 0px 2px;\r\n  justify-content: center;\r\n  padding: 10px 15px;\r\n}\r\n.navbar-nav {\r\n  flex-direction: row;\r\n}\r\n.nav-item {\r\n  margin: 2rem 2rem 1rem 2rem;\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=4741bc4c&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style1 from \"./User.vue?vue&type=style&index=1&id=4741bc4c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4741bc4c\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJvSURBVHgB7ZjNUcMwEIUfPwdumAriDuDILekAOog6CB0YKgAqCB0AFThUAFQQU0GgAtCOlWEtJFuSJeLM5Jt5E8WWJe1qJa0NDJtSaYQt5ELqW2luq7SP4XLiUmnIBjix9QYcoh8Z6ljNldZUUgupd6lPJCTUgKmUkJo41H2SupN6sdzPVHuZdv1MKxeGZx/gyVhqid/dwUe27XAe2B5p6TMD5IFrw/WF1BvqcCGOUYfTBE0v0v9K6krqHpHYc6xHXhLsP8X1nRpIW4znqA0X2vVrqRtVptCZGZ4l4y9VmRz0ZKjzAAdoAHooZPAjx9/Qm3Y8I+BwkHUx1TotEA4Z/craWqE9RRCIYAD32iP6k2ltli11BXoawL1PnY4Qh1M0Z3VsqSfQ0wDuqa549YWvK9ssCPQwYIym92OToTkLmaUOha3t/Ghlzhq/RRpKRJhhWzLHD6BnpIHv6xNEpmt6Y8DD9BURyZE2/k39rBCIKYT4gqmQjoqVg2d590a2aTZtAM9kg8LIZEBm6SAFvP1jBGAygJ8BFdLyZunXmS4DFkhLxco5Augy4ANpeWflS0QgdRKnw5O6FQIWsj4DgpUXSM8n68f2buxMjmYO5J3CBjJDz1lYw1PoEv8HDXiFnul7gc14f81M6//C52F98EPRGA7QIo6yfSVAuFQ6kDqSOle/Q6FCbcAXIrOE/zo5Q6I3L8I3G+W5i4AbPJYrbBgBvz07R9rvS97onwYpJEYtdfm30P9ITZygkODbHQ2MPHuq7pNBBZqHk/fenhoaoM+eXmCAkNd5OJlE9ycYOGRIiV9jluo/pQepPort2LFD8QNN6BgVYDMdzAAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEditModal.vue?vue&type=style&index=0&id=5feec354&prod&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB5SURBVHgB7dfBCYAwEETR0Qoswc6SzreEpAPNQg5R4kGFnct8GMnNBwoi8L7UVtqsnyn5jY9hBYTuCJ8huBnClxGYEEIIIcRXRNTMDUs/7OBW13bZwK/6JYP7aAqGd/EJk0AoQxhhhBEmHkP5r5lhDMRyB1y+EX87AdxCwzt7prpuAAAAAElFTkSuQmCC\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=1&id=4741bc4c&prod&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAlCAYAAAAwYKuzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFMSURBVHgB7ZjhDYIwEIWfTtIRHKGjuIErdAQ3wE0cQTdwBNxAe0LxwBaBK7Q/+pJLtBj48tnas8A3ytbZ1sPWK1HdbFUtSy8HW3VCsGHVLVNnLic4DklsuLDBhy2NdNHoTzGacr0BjfTRYMJ27QuXHfJIx7RH5hkCVvAs8Q2jbF2Hg8PVQ3PyiO1zgv/XJLjMt7Kp0FgLcfzY29Kmz9odI4AUg/VtKvitmfb6KKC7wVo2Q9YO7DN/AV0M4tlUGLeGJYDuxlKbU6wtBnQxmG+Trk21JgZ0D5xqc661KIAuBmGbVEusRQUE/DZ9NdVadEAXgzCcwbJEBaQoNI0v/acgq/R1z7XG0zGVflCaAihNAZSmAEpTAKUhwCd7r5E+fIv8sNEBDe/tJHuoNBr9Don29GyP315g3foxM7Aani5doWmZUtqkZ1dIez40L296frZwQEKmnAAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=style&index=0&id=c828c808&prod&scope=true&lang=css&\""],"sourceRoot":""}