(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bcd068b"],{2375:function(t,s,e){"use strict";var i=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"bouncing-loader"},[s("div"),s("div"),s("div")])])}],o=(e("7446"),e("2877")),r={},c=Object(o["a"])(r,i,a,!1,null,"364395a3",null);s["a"]=c.exports},"28d6":function(t,s,e){t.exports=e.p+"img/like-icon.c175aad1.svg"},"4c53":function(t,s,e){},"6f90":function(t,s,e){"use strict";e("4c53")},"6ff8":function(t,s){t.exports="data:image/png;base64,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"},7446:function(t,s,e){"use strict";e("f586")},"8f8e":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-container"},[t.isLoading?s("Spinner"):t._e(),t._l(t.tweets,(function(i){return s("div",{key:i.id,staticClass:"user-tweets"},[s("router-link",{attrs:{to:{name:"user",params:{id:i.userId}}}},[s("img",{staticClass:"user-image-sm",attrs:{src:t._f("emptyImage")(t.user.avatar),alt:""}})]),s("div",{staticClass:"card-info"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"user-naming"},[s("router-link",{attrs:{to:{name:"user",params:{id:i.UserId}}}},[s("p",{staticClass:"user-name"},[t._v(t._s(t.user.name))])]),s("p",{staticClass:"user-handle"},[t._v(" @"+t._s(t.user.account)),s("span",[t._v("・")]),s("span",{staticClass:"time-stamp"},[t._v(t._s(t._f("fromNow")(i.createdAt)))])])],1)]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"tweet-content"},[t._v(" "+t._s(i.description)+" ")])]),s("div",{staticClass:"card-footer"},[s("div",{staticClass:"icon-section",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.handleReplyModal(i)}}},[s("div",{staticClass:"footer-icon reply-icon d-flex"}),s("span",{staticClass:"counter reply-count"},[t._v(t._s(i.replyCounts)+" ")])]),s("div",{staticClass:"icon-section"},[s("div",{staticClass:"footer-icon like-icon"},[i.isLiked?s("div",{staticClass:"section-like d-flex",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteLike(i.id)}}},[s("img",{staticClass:"counter like-icon",attrs:{src:e("28d6"),alt:""}}),t._v(t._s(i.likeCounts)+" ")]):s("div",{staticClass:"section-like d-flex",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addLike(i.id)}}},[s("img",{staticClass:"counter like-icon-add",attrs:{src:e("6ff8"),alt:""}}),t._v(t._s(i.likeCounts)+" ")])])])])])],1)})),s("ReplyModal",{directives:[{name:"show",rawName:"v-show",value:!0===t.show,expression:"show === true"}],attrs:{show:t.tweetActive,userTweet:t.tweetActive}})],2)},a=[],o=(e("d9e2"),e("2375")),r=e("2797"),c=e("2708"),n=e("bdff"),d=e("1602"),u=e("2fa3"),l=e("2f62"),f={name:"UserTweets",mixins:[c["c"]],components:{ReplyModal:r["a"],Spinner:o["a"]},data(){return{show:!1,tweetActive:{},isLoading:!0,tweets:[],user:{}}},computed:{...Object(l["b"])(["currentUser"])},created(){const{id:t}=this.$route.params;this.fetchUserTweets(t),this.fetchUserProfile(t)},beforeRouteUpdate(t,s,e){const{id:i}=t.params;this.fetchUserTweets(i),this.fetchUserProfile(i),e()},methods:{async fetchUserTweets(t){try{const s=await d["a"].getUserTweets({userId:t});if(200!==s.status)throw new Error(s.data.message);const e=s.data;this.tweets=e,this.isLoading=!1}catch(s){console.log(s.response.data.message),this.isLoading=!1,u["a"].fire({icon:"error",title:"無法取得 tweets"})}},async addLike(t){try{const s=await n["a"].likeTweet(t);if(console.log("response",s),console.log("response.data.status",s.data.status),"success"!==s.data.status)throw new Error(s.data.message);this.tweets=this.tweets.map(s=>s.id===t?{...s,isLiked:!1,likeCounts:s.likeCounts+1}:s)}catch(s){u["a"].fire({icon:"error",title:"無法按喜歡，請稍後再試"})}},async deleteLike(t){try{const s=await n["a"].unLikeTweet(t);if(console.log("delete like",s),"success"!==s.data.status)throw new Error(s.data.message);this.tweets=this.tweets.map(s=>s.id===t?{...s,isLiked:!1,likeCounts:s.likeCounts-1}:s)}catch(s){u["a"].fire({icon:"error",title:"無法取消喜歡，請稍後再試"})}},async fetchUserProfile(t){try{const s=await d["a"].getUser({userId:t});if(200!==s.status)throw new Error(s.data.message);this.user=s.data,this.user={...this.user,introduction:this.user.introduction?this.user.introduction:""},this.isLoading=!1}catch(s){console.error(s)}},handleReplyModal(t){this.show=!0,this.tweetActive=t,console.log("tweet",t)}}},w=f,h=(e("6f90"),e("2877")),p=Object(h["a"])(w,i,a,!1,null,"3b36d0bf",null);s["default"]=p.exports},f586:function(t,s,e){}}]);
//# sourceMappingURL=chunk-1bcd068b.83a7f998.js.map